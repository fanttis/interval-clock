var Clock=window.Clock||{};Clock.main=function(e,t){function n(e,t){e.className+=" "+t}function a(e,t){e.className=e.className.replace(t," ")}function i(e){return e>9?e:"0"+e}function r(){var e=p.cloneNode(!0);e.id="",e.className="log log-history",p.parentNode.insertBefore(e,p.nextSibling),f.innerHTML="Start",p.innerHTML="",a(f.parentNode,"active")}function s(){"undefined"==typeof v&&(v=new m(d)),"undefined"==typeof h||0===h.state?("undefined"==typeof h?(g=new m(l),h=new m(c)):(g.order=1,g.Start(),h.Start()),f.innerHTML="Stop",n(f.parentNode,"active")):(g.state=0,g.Interval(),h.state=0,h.Interval(),r())}function o(){"undefined"!=typeof h&&1===h.state&&g.Interval()}var l=t.getElementById("time"),c=t.getElementById("rt"),d=t.getElementById("st"),p=t.getElementById("sprint-log"),f=t.getElementById("timer-startstop"),u=t.getElementById("timer-interval"),m=function(e){this.el=e,this.order=1,this.state=null,this.clock=null,this.Start()};m.prototype.Start=function(){var e=0,t=this.el;t.getElementsByTagName("span")[0].innerHTML="00",t.getElementsByTagName("span")[1].innerHTML="00",this.state=1,this.clock=setInterval(function(){t.getElementsByTagName("span")[0].innerHTML=i(parseInt(e/60,10)),t.getElementsByTagName("span")[1].innerHTML=i(++e%60)},1e3)},m.prototype.Stop=function(){this.state=0,clearInterval(this.clock)},m.prototype.Interval=function(){var e=t.createElement("li"),n=t.createElement("time"),a=this.el.nextSibling.nextSibling;n.dataset.order=this.order,this.order+=1,e.appendChild(n).appendChild(t.createTextNode(this.el.textContent)),a.insertBefore(e,a.firstChild),1===this.state?(this.Stop(),this.Start()):this.Stop()};var h,g,v;f.addEventListener("click",function(){s()},!1),u.addEventListener("click",function(){o()},!1),e.addEventListener("keyup",function(e){switch(e.keyCode){case 32:case 73:e.preventDefault(),o();break;case 13:case 83:if(e.target===f)return!1;e.preventDefault(),s();break;default:console.log("Listened keys are: Space (interval), I (i/interval), S (start/stop) and Enter (start/stop)")}},!1)}(this,this.document);