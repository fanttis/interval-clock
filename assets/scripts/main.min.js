var Clock=window.Clock||{};Clock.main=function(e,t){function n(e,t){e.className+=" "+t}function i(e,t){e.className=e.className.replace(t," ")}function a(e){return e>9?e:"0"+e}function r(){var e=p.cloneNode(!0);e.id="",e.className="log log-history",p.parentNode.insertBefore(e,p.nextSibling),f.innerHTML="Start",p.innerHTML="",i(f.parentNode,"active")}function s(){"undefined"==typeof v&&(v=new h(d)),"undefined"==typeof m||0===m.state?("undefined"==typeof m?(g=new h(o),m=new h(c)):(g.order=1,g.Start(),m.Start()),f.innerHTML="Stop",n(f.parentNode,"active")):(g.state=0,g.Interval(),m.state=0,m.Interval(),r())}function l(){"undefined"!=typeof m&&1===m.state&&g.Interval()}var o=t.getElementById("time"),c=t.getElementById("rt"),d=t.getElementById("st"),p=t.getElementById("sprint-log"),f=t.getElementById("timer-startstop"),u=t.getElementById("timer-interval"),h=function(e){this.el=e,this.order=1,this.state=null,this.clock=null,this.Start()};h.prototype.Start=function(){var e=0,t=this.el;this.el.getElementsByTagName("span")[0].innerHTML="00",this.el.getElementsByTagName("span")[1].innerHTML="00",this.state=1,this.clock=setInterval(function(){t.getElementsByTagName("span")[0].innerHTML=a(parseInt(e/60,10)),t.getElementsByTagName("span")[1].innerHTML=a(++e%60)},1e3)},h.prototype.Stop=function(){this.state=0,clearInterval(this.clock)},h.prototype.Interval=function(){var e=t.createElement("li"),n=t.createElement("time"),i=this.el.nextSibling.nextSibling;n.dataset.order=this.order,this.order+=1,e.appendChild(n).appendChild(t.createTextNode(this.el.innerText)),i.insertBefore(e,i.firstChild),1===this.state?(this.Stop(),this.Start()):this.Stop()};var m,g,v;f.addEventListener("click",function(){s()},!1),u.addEventListener("click",function(){l()},!1),e.addEventListener("keyup",function(e){switch(e.keyCode){case 32:case 73:e.preventDefault(),l();break;case 13:case 83:if(e.target===f)return!1;e.preventDefault(),s();break;default:console.log("Listened keys are: Space (interval), I (i/interval), S (start/stop) and Enter (start/stop)")}},!1)}(this,this.document);